{# DNS Wizard Modal - Included in add_record.html #}
{% if dns_wizards_enabled %}
<!-- DNS Record Wizard Modal -->
<div class="modal fade" id="dnsWizardModal" tabindex="-1" aria-labelledby="dnsWizardModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="dnsWizardModalLabel">
                    <i class="bi bi-magic me-2"></i>
                    <span id="wizardTitle">{% trans %}DNS Record Wizard{% endtrans %}</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="{% trans %}Close{% endtrans %}"></button>
            </div>
            <div class="modal-body">
                <!-- Wizard Selection (shown initially) -->
                <div id="wizardSelection">
                    <p class="text-muted mb-4">
                        <i class="bi bi-info-circle me-1"></i>
                        {% trans %}Select a wizard to help you create complex DNS records with guided forms instead of manual text entry.{% endtrans %}
                    </p>

                    <div class="row g-3" id="wizardGrid">
                        <!-- Wizard cards will be inserted here via JavaScript -->
                    </div>
                </div>

                <!-- Wizard Form (shown after selection) -->
                <div id="wizardForm" style="display: none;">
                    <div class="mb-3">
                        <button type="button" class="btn btn-sm btn-outline-secondary" id="backToSelection">
                            <i class="bi bi-arrow-left me-1"></i>
                            {% trans %}Back to wizard selection{% endtrans %}
                        </button>
                    </div>

                    <!-- Validation messages (shown at top) -->
                    <div id="wizardValidation" class="mb-3" style="display: none;">
                        <div id="wizardErrors" class="alert alert-danger" style="display: none;">
                            <strong><i class="bi bi-exclamation-triangle-fill me-1"></i>{% trans %}Errors:{% endtrans %}</strong>
                            <ul class="mb-0" id="errorList"></ul>
                        </div>
                        <div id="wizardWarnings" class="alert alert-warning" style="display: none;">
                            <strong><i class="bi bi-exclamation-triangle-fill me-1"></i>{% trans %}Warnings:{% endtrans %}</strong>
                            <ul class="mb-0" id="warningList"></ul>
                        </div>
                    </div>

                    <!-- Wizard description -->
                    <div id="wizardDescription" class="alert alert-info mb-3" style="display: none;"></div>

                    <!-- Form fields will be inserted here -->
                    <div id="wizardFields"></div>

                    <!-- Real-time preview -->
                    <div id="wizardPreview" class="mt-4" style="display: none;">
                        <h6>{% trans %}Generated DNS Record Preview{% endtrans %}</h6>
                        <div class="card">
                            <div class="card-body">
                                <pre id="previewContent" class="mb-0 small"><code></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle me-1"></i>
                    {% trans %}Cancel{% endtrans %}
                </button>
                <button type="button" class="btn btn-primary btn-sm" id="useWizardRecord" style="display: none;">
                    <i class="bi bi-plus-circle me-1"></i>
                    {% trans %}Add Record{% endtrans %}
                </button>
            </div>
        </div>
    </div>
</div>
{% endif %}
